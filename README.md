# readdle-helper
 Helper for readdle.me: reblogs post of tags.

## Функционал
1. Репост публикаций и заметок в аккаунт песочницы, если VIZ SHARES <= 100 000 (можно указать иное число).
Далее владелец основного аккаунта может вручную поделиться постом из песочницы.
2. Если VIZ SHARES > 100 000 (иное число), происходит репост в основной аккаунт.
Также можно установить whitelist: тогда будет разрешено публиковать только с указанных аккаунтов.
3. Если публикация или заметка набирает наград на >= 1000 VIZ SHARES, происходит репост в аккаунт популярного.

## Настройка в config.json и установка с запуском
1. Устанавливаем список тегов вместо tag1, tag2 и tag3. Пишем между кавычек. Если надо добавить ещё, после второй кавычки добавляем запятую и пишем новый тег между кавычками.
2. Можете изменить название базы данных с db_name на иное (нужно, если запущено несколько скриптов).
3. Изменить api_node, если текущая не отвечает.
4. Настроить main:
 - Указать вместо viz-login логин аккаунта в Viz, который будет основным.
 - Вместо THIS_PRIVATE_KEY ваш приватный regular ключ от этого аккаунта.
 - В whitelist вместо login1,login2 указать белый список аккаунтов авторов, публикации и заметки которых репостятся. Если не нужно, ""
5. Настроить sandbox (песочницу):
 - Включить песочницу - указать allow true, иначе - false.
 - Указать тип в type. Доступно 2 варианта: shares (в существующем файле) и whitelist. В случае включения песочницы и указания whitelist проверяется whitelist в main: есть автор среди списка - в основной аккаунт, нет - в песочницу.
 - value - нужен только для типа shares. Указывается в кавычках.
 - Указать account вашей песочницы постов в Viz вместо sandbox.viz-login,
 - Указать приватный regular ключ от этого аккаунта вместо THIS_SANDBOX_PRIVATE_KEY
6. Настроить размещение популярных постов в popular:
 - Активировать в allow true (false - отключить).
 - Указать award_amount - сумму, по достижении которой публикация или заметка репостится в популярное.
 - Вместо popular.viz-login в account указать Viz логин аккаунта, который будет размещать у себя популярные посты,
 - regular_key от этого аккаунта вместо THIS_POPULAR_PRIVATE_KEY
7. Переходим в папку приложения в терминале:
cd readdle-helper
(можете переименовать).
8. Вводим
npm install
9. Запускаем (можем переименовать rh в другое для удобства):
node rh.js
или
pm2 start rh.js

## Модули
В папке modules есть демо модуль: demo.
Каждый модуль обязательно должен иметь index.js файл, а в нём передаваемую функцию load.
В функцию передаются author, data и type - важно их указать.
Далее внутри можете написать условие или что иное для проверки типа и выполнения действия в зависимости от него:
```
if (type === 'main') {
    // Действия в случае main.
} else {
    // Действия в случае типа popular.
}
```

### Что можно сделать в модулях?
1. Размещение в соцсетях популярного поста
2. Публикацию в Telegram канал (бот).
3. Что-то иное: вы не ограничены в фантазии.

## Буду рад пулл-реквестам и звёздам
Благодарю за внимание и использование.
README написан незрячим разработчиком, автором скрипта Денисом Скрипником (blind_dev).
Чтоб не пропустить новости развития readdle-helper, подписывайтесь на канал https://t.me/blind_dev